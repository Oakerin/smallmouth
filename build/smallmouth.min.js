/*! smallmouth v0.0.1 */
var SmallMouth;!function(a){var b=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(([^#]*))?(#(.*))?"),c={},d=function(){function a(a){this.attributes={},this._callbacks=[];var d=b.exec(a),e=d[1],f=d[3],g=d[5],h=d[6],i=(e?e:"")+(f?f:""),j=this.cleanPath((g?g:"")+(h?h:"")),k=c[i],l=this;this._path=j,this._socket=k?k:k=c[i]=io.connect(i),k.on("data",function(a){if(l._path===a.path){l.attributes[a.path]=a.value;for(var b=0,c=l._callbacks.length;c>b;b++)l._callbacks[b].callback()}}),k.emit("subscribe",j)}return a.prototype.on=function(a,b,c){var d=this;return this._callbacks.push({type:a,callback:function(){return b.call(c,d.attributes[d._path])}}),this},a.prototype.set=function(a){return this._socket.emit("set",{path:this._path,value:a}),this},a.prototype.cleanPath=function(a){return a="/"===a.charAt(0)?a.substring(1):a},a}();a.Resource=d}(SmallMouth||(SmallMouth={}));